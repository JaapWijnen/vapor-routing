{"relationshipsSections":[{"identifiers":["doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOption","doc:\/\/co.pointfree.VaporRouting\/SQ"],"type":"conformsTo","title":"Conforms To","kind":"relationships"}],"metadata":{"externalID":"s:7NIOCore14ChannelOptionsV5TypesO36DatagramVectorReadMessageCountOptionV","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DatagramVectorReadMessageCountOption","kind":"identifier"}],"symbolKind":"struct","modules":[{"name":"NIOCore"}],"roleHeading":"Structure","role":"symbol","title":"ChannelOptions.Types.DatagramVectorReadMessageCountOption","navigatorTitle":[{"text":"DatagramVectorReadMessageCountOption","kind":"identifier"}]},"hierarchy":{"paths":[["doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore","doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions","doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types"]]},"primaryContentSections":[{"declarations":[{"languages":["swift"],"platforms":["Linux"],"tokens":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DatagramVectorReadMessageCountOption","kind":"identifier"}]}],"kind":"declarations"},{"content":[{"text":"Overview","level":2,"anchor":"overview","type":"heading"},{"inlineContent":[{"type":"text","text":"Some datagram "},{"type":"codeVoice","code":"Channel"},{"type":"text","text":"s have extremely high datagram throughput. This can occur when the single datagram socket is encapsulating"},{"type":"text","text":" "},{"type":"text","text":"many logical “connections” (e.g. with QUIC) or when the datagram socket is simply serving an enormous number of consumers (e.g."},{"type":"text","text":" "},{"type":"text","text":"with a public-facing DNS server). In this case the overhead of one syscall per datagram is profoundly limiting. Using this"},{"type":"text","text":" "},{"type":"codeVoice","code":"ChannelOption"},{"type":"text","text":" allows the "},{"type":"codeVoice","code":"Channel"},{"type":"text","text":" to read multiple datagrams at once."}],"type":"paragraph"},{"inlineContent":[{"text":"Note that simply increasing this number will not necessarily bring performance gains and may in fact cause data loss. Any increase","type":"text"},{"text":" ","type":"text"},{"text":"to this should be matched by increasing the size of the buffers allocated by the ","type":"text"},{"code":"Channel","type":"codeVoice"},{"text":" ","type":"text"},{"code":"RecvByteBufferAllocator","type":"codeVoice"},{"text":" (as set by","type":"text"},{"text":" ","type":"text"},{"code":"ChannelOption.recvAllocator","type":"codeVoice"},{"text":") proportionally. For example, to receive 10 messages at a time, set the size of the buffers allocated","type":"text"},{"text":" ","type":"text"},{"text":"by the ","type":"text"},{"code":"RecvByteBufferAllocator","type":"codeVoice"},{"text":" to at least 10x the size of the maximum datagram size you wish to receive.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Naturally, this option is only valid on datagram channels.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"This option only works on the following platforms:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Linux"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"FreeBSD","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Android","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"On all other platforms, setting it has no effect.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Set this option to 0 to disable vector reads and to use serial reads instead."}],"type":"paragraph"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/niocore\/channeloptions\/types\/datagramvectorreadmessagecountoption"],"traits":[{"interfaceLanguage":"swift"}]}],"topicSections":[{"identifiers":["doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types\/DatagramVectorReadMessageCountOption\/init()"],"title":"Initializers"},{"identifiers":["doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types\/DatagramVectorReadMessageCountOption\/Value"],"title":"Type Aliases"},{"identifiers":["doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types\/DatagramVectorReadMessageCountOption\/Equatable-Implementations"],"generated":true,"title":"Default Implementations"}],"sections":[],"kind":"symbol","schemaVersion":{"major":0,"minor":3,"patch":0},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types\/DatagramVectorReadMessageCountOption"},"abstract":[{"code":"DatagramVectorReadMessageCountOption","type":"codeVoice"},{"text":" allows users to configure the number of messages to attempt to read in a single syscall on a","type":"text"},{"text":" ","type":"text"},{"text":"datagram ","type":"text"},{"code":"Channel","type":"codeVoice"},{"text":".","type":"text"}],"references":{"doc://co.pointfree.VaporRouting/documentation/NIOCore/ChannelOption":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ChannelOption","kind":"identifier"}],"type":"topic","url":"\/documentation\/niocore\/channeloption","abstract":[{"text":"A configuration option that can be set on a ","type":"text"},{"type":"codeVoice","code":"Channel"},{"text":" to configure different behaviour.","type":"text"}],"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOption","title":"ChannelOption","kind":"symbol","navigatorTitle":[{"text":"ChannelOption","kind":"identifier"}],"role":"symbol"},"doc://co.pointfree.VaporRouting/documentation/NIOCore/ChannelOptions/Types/DatagramVectorReadMessageCountOption":{"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types\/DatagramVectorReadMessageCountOption","url":"\/documentation\/niocore\/channeloptions\/types\/datagramvectorreadmessagecountoption","navigatorTitle":[{"text":"DatagramVectorReadMessageCountOption","kind":"identifier"}],"kind":"symbol","role":"symbol","type":"topic","abstract":[{"type":"codeVoice","code":"DatagramVectorReadMessageCountOption"},{"type":"text","text":" allows users to configure the number of messages to attempt to read in a single syscall on a"},{"text":" ","type":"text"},{"text":"datagram ","type":"text"},{"type":"codeVoice","code":"Channel"},{"text":".","type":"text"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DatagramVectorReadMessageCountOption","kind":"identifier"}],"title":"ChannelOptions.Types.DatagramVectorReadMessageCountOption"},"doc://co.pointfree.VaporRouting/documentation/NIOCore/ChannelOptions/Types/DatagramVectorReadMessageCountOption/Value":{"url":"\/documentation\/niocore\/channeloptions\/types\/datagramvectorreadmessagecountoption\/value","kind":"symbol","title":"ChannelOptions.Types.DatagramVectorReadMessageCountOption.Value","role":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Value"}],"fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"Value"}],"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types\/DatagramVectorReadMessageCountOption\/Value","abstract":[{"type":"text","text":"The type of the "},{"code":"ChannelOption","type":"codeVoice"},{"type":"text","text":"’s value."}]},"doc://co.pointfree.VaporRouting/documentation/NIOCore":{"title":"NIOCore","abstract":[],"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore","type":"topic","role":"collection","url":"\/documentation\/niocore","kind":"symbol"},"doc://co.pointfree.VaporRouting/documentation/NIOCore/ChannelOptions/Types/DatagramVectorReadMessageCountOption/init()":{"abstract":[],"type":"topic","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types\/DatagramVectorReadMessageCountOption\/init()","title":"init()","url":"\/documentation\/niocore\/channeloptions\/types\/datagramvectorreadmessagecountoption\/init()","role":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"()","kind":"text"}],"kind":"symbol"},"doc://co.pointfree.VaporRouting/SQ":{"type":"unresolvable","identifier":"doc:\/\/co.pointfree.VaporRouting\/SQ","title":"Swift.Equatable"},"doc://co.pointfree.VaporRouting/documentation/NIOCore/ChannelOptions/Types/DatagramVectorReadMessageCountOption/Equatable-Implementations":{"abstract":[],"type":"topic","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types\/DatagramVectorReadMessageCountOption\/Equatable-Implementations","title":"Equatable Implementations","url":"\/documentation\/niocore\/channeloptions\/types\/datagramvectorreadmessagecountoption\/equatable-implementations","role":"collectionGroup","kind":"article"},"doc://co.pointfree.VaporRouting/documentation/NIOCore/ChannelOptions":{"type":"topic","title":"ChannelOptions","kind":"symbol","abstract":[{"type":"text","text":"Provides "},{"type":"codeVoice","code":"ChannelOption"},{"type":"text","text":"s to be used with a "},{"type":"codeVoice","code":"Channel"},{"type":"text","text":", "},{"type":"codeVoice","code":"Bootstrap"},{"type":"text","text":" or "},{"code":"ServerBootstrap","type":"codeVoice"},{"type":"text","text":"."}],"navigatorTitle":[{"kind":"identifier","text":"ChannelOptions"}],"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions","role":"symbol","url":"\/documentation\/niocore\/channeloptions","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ChannelOptions"}]},"doc://co.pointfree.VaporRouting/documentation/NIOCore/ChannelOptions/Types":{"kind":"symbol","role":"symbol","type":"topic","abstract":[],"title":"ChannelOptions.Types","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/NIOCore\/ChannelOptions\/Types","url":"\/documentation\/niocore\/channeloptions\/types","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Types","kind":"identifier"}],"navigatorTitle":[{"text":"Types","kind":"identifier"}]}}}